[DEFAULT]

#
# From kolla
#

# The distro type of the base image (string value)
# Allowed values: centos, ubuntu, oraclelinux, debian
# Deprecated group/name - [kolla-build]/base
base = centos

# The base distro image tag (string value)
# Deprecated group/name - [kolla-build]/base_tag
base_tag = latest

# The base image name. Default is the same with base (string value)
#base_image = <None>

# Turn on debugging log level (boolean value)
# Deprecated group/name - [kolla-build]/debug
debug = false

# Set docker build time variables (dict value)
#build_args = <None>

# Path to custom file to be added at beginning of base Dockerfile
# (string value)
# Deprecated group/name - [kolla-build]/include_header
#include_header = <None>

# Path to custom file to be added at end of Dockerfiles for final
# images (string value)
# Deprecated group/name - [kolla-build]/include_footer
#include_footer = <None>

# Keep failed intermediate containers (boolean value)
# Deprecated group/name - [kolla-build]/keep
#keep = false

# Show image dependencies (filtering supported) (boolean value)
#list_dependencies = <None>

# Show all available images (boolean value)
#list_images = <None>

# The Docker namespace name (string value)
# Deprecated group/name - [kolla-build]/namespace
namespace = johnd

# Use the Docker cache when building (boolean value)
#cache = true

# DEPRECATED: Do not use the Docker cache when building (boolean
# value)
# This option is deprecated for removal.
# Its value may be silently ignored in the future.
#no_cache = false

# Build a pre-defined set of images, see [profiles] section in config.
# The default profiles are: infra, main, aux, default, gate (string
# value)
# Deprecated group/name - [kolla-build]/profile
#profile = <None>

# Push images after building (boolean value)
# Deprecated group/name - [kolla-build]/push
push = true

# The number of threads to user while pushing Images. Note: Docker can
# not handle threading push properly. (integer value)
# Minimum value: 1
# Deprecated group/name - [kolla-build]/push_threads
#push_threads = 1

# The number of times to retry while building (integer value)
# Minimum value: 0
# Deprecated group/name - [kolla-build]/retries
#retries = 3

# Build only images matching regex and its dependencies (string value)
#regex = <None>

# The docker registry host. The default registry host is Docker Hub
# (string value)
# Deprecated group/name - [kolla-build]/registry
registry = 192.168.1.200:4000

# Path to the file to store the docker image dependency in Graphviz
# dot format (string value)
#save_dependency = <None>

# The method of the OpenStack install (string value)
# Allowed values: binary, source, rdo, rhos
install_type = source

# The number of threads to use while building. (Note: setting to one
# will allow real time logging.) (integer value)
# Minimum value: 1
# Deprecated group/name - [kolla-build]/threads
#threads = 8

# The Docker tag (string value)
# Deprecated group/name - [kolla-build]/tag
tag = 3.0.1

# Don't build images. Generate Dockerfile only (boolean value)
# Deprecated group/name - [kolla-build]/template_only
#template_only = false

# Time in seconds after which any operation times out (integer value)
#timeout = 120

# Path to template override file (string value)
#template_override = <None>

# Path to logs directory (string value)
#logs_dir = <None>

# The MAINTAINER field (string value)
# Deprecated group/name - [kolla-build]/maintainer
#maintainer = Kolla Project (https://launchpad.net/kolla)

# Comma separated list of .rpm or .repo file(s) or URL(s) to install
# before building containers (list value)
# Deprecated group/name - [kolla-build]/rpm_setup_config
#rpm_setup_config = http://buildlogs.centos.org/centos/7/cloud/x86_64/rdo-trunk-master-tested/delorean.repo,http://trunk.rdoproject.org/centos7/delorean-deps.repo

# Path to custom sources.list (string value)
#apt_sources_list = <None>

# Path to custom apt/preferences (string value)
#apt_preferences = <None>


[profiles]
# Infra images (list value)
#infra = ceph,cron,mariadb,haproxy,keepalived,kolla-toolbox,memcached,mongodb,openvswitch,rabbitmq,heka

# Main images (list value)
#main = cinder,ceilometer,glance,heat,horizon,iscsi,keystone,neutron,nova,swift

# Aux Images (list value)
#aux = aodh,designate,gnocchi,ironic,magnum,mistral,trove,zaqar,zookeeper

# Default images (list value)
#default = cron,kolla-toolbox,glance,haproxy,heat,horizon,keepalived,keystone,memcached,mariadb,neutron,nova,openvswitch,rabbitmq,heka

# Gate images (list value)
#gate = cron,glance,haproxy,keepalived,keystone,kolla-toolbox,mariadb,memcached,neutron,nova,openvswitch,rabbitmq,heka

[aodh-base]
type = git
location = https://github.com/openstack/aodh
reference = stable/mitaka

[ceilometer-base]
type = git
location = https://github.com/openstack/ceilometer
reference = stable/mitaka

[cinder-base]
type = git
location = https://github.com/openstack/cinder
reference = stable/mitaka

[congress-base]
type = git
location = https://github.com/openstack/congress
reference = stable/mitaka

[designate-base]
type = git
location = https://github.com/openstack/designate
reference = stable/mitaka

[designate-dashboard]
type = git
location = https://github.com/openstack/designate-dashboard
reference = stable/mitaka

[glance-base]
type = git
location = https://github.com/openstack/glance
reference = stable/mitaka

[gnocchi-base]
type = git
location = https://github.com/openstack/gnocchi
reference = stable/2.1

[heat-base]
type = git
location = https://github.com/openstack/heat
reference = stable/mitaka

[horizon]
type = local
location = dashboards
#reference = stable/mitaka

[ironic-base]
type = git
location = https://github.com/openstack/ironic
reference = stable/mitaka

[keystone]
type = git
location = https://github.com/openstack/keystone
reference = stable/mitaka

[kuryr]
type = git
location = https://github.com/openstack/kuryr
reference = master

[magnum-base]
type = git
location = https://github.com/openstack/magnum
reference = stable/mitaka

[magnum-ui]
type = git
location = https://github.com/openstack/magnum-ui
reference = stable/mitaka

[manila-base]
type = git
location = https://github.com/openstack/manila
reference = stable/mitaka

[mistral-base]
type = git
location = https://github.com/openstack/mistral
reference = stable/mitaka

[mistral-dashboard]
type = git
location = https://github.com/openstack/mistral-dashboard
reference = stable/mitaka

[murano-base]
type = git
location = https://github.com/openstack/murano
reference = stable/mitaka

[murano-dashboard]
type = git
location = https://github.com/openstack/murano-dashboard
reference = stable/mitaka

[neutron-base]
type = git
location = https://github.com/openstack/neutron
reference = stable/mitaka

[neutron-lbaas-agent]
type = git
location = https://github.com/openstack/neutron-lbaas
reference = stable/mitaka

[neutron-lbaas-dashboard]
type = git
location = https://github.com/openstack/neutron-lbaas-dashboard
reference = stable/mitaka

[neutron-networking-sfc-agent]
type = git
location = https://github.com/openstack/networking-sfc
reference = master

[nova-base]
type = git
location = https://github.com/openstack/nova
reference = stable/mitaka

[nova-novncproxy]
type = url
location = http://github.com/kanaka/noVNC/tarball/v0.5.1
#reference = stable/mitaka

[nova-spicehtml5proxy]
type = url
location = http://github.com/SPICE/spice-html5/tarball/spice-html5-0.1.6
#reference = stable/mitaka

[openstack-base]
type = git
location = https://github.com/openstack/requirements
reference = stable/mitaka

[rally]
type = git
location = https://github.com/openstack/rally
reference = master

[sahara-base]
type = git
location = https://github.com/openstack/sahara
reference = stable/mitaka

[senlin-base]
type = git
location = https://github.com/openstack/senlin
reference = stable/mitaka

[swift-base]
type = git
location = https://github.com/openstack/swift
reference = stable/mitaka

[tempest]
type = git
location = https://github.com/openstack/tempest
reference = 12.1.0

[trove-base]
type = git
location = https://github.com/openstack/trove
reference = stable/mitaka

[watcher-base]
type = git
location = https://github.com/openstack/watcher
reference = 0.28.0

[zaqar]
type = git
location = https://github.com/openstack/zaqar
reference = stable/mitaka

ERROR:kolla.image.build:gnocchi-base Failed with status: error
ERROR:kolla.image.build:kuryr Failed with status: error
ERROR:kolla.image.build:horizon Failed with status: error
ERROR:kolla.image.build:rally Failed with status: error
ERROR:kolla.image.build:gnocchi-api Failed with status: matched
ERROR:kolla.image.build:gnocchi-statsd Failed with status: matched
ERROR:kolla.image.build:gnocchi-metricd Failed with status: matched
